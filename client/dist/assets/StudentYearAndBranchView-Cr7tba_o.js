import{r as s,b as p,B as g,j as e,L as q,S as G}from"./index-F5vbwB_e.js";import{A as a}from"./Accordion-Czl0Iohf.js";import{T as Q}from"./Table-Cvi54BG9.js";import{P as N}from"./Placeholder-sFQbI7v7.js";import"./ThemeProvider-nWUV6F1R.js";import"./TransitionWrapper-BBSR4vEj.js";import"./Col-CGBuhqx3.js";import"./Button-yCakRxFg.js";const c=({branchName:m,studentData:o})=>{var B;const[x,Y]=s.useState({role:""});return s.useEffect(()=>{const r=localStorage.getItem("token");p.get(`${g}/user/detail`,{headers:{Authorization:`Bearer ${r}`}}).then(l=>{Y({role:l.data.role})}).catch(l=>{console.log("AddUserTable.jsx => ",l),setToastMessage(l),setShowToast(!0)})},[]),e.jsxs(a.Item,{eventKey:m,className:"shadow-md",children:[e.jsx(a.Header,{children:m}),e.jsx(a.Body,{children:e.jsxs(Q,{striped:!0,borderless:!0,hover:!0,className:"w-fit",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"6%"},children:"Roll No."}),e.jsx("th",{style:{width:"15%"},children:"Full Name"}),e.jsx("th",{style:{width:"10%"},children:"ABCID"}),e.jsx("th",{style:{width:"15%"},children:"Email"}),e.jsx("th",{style:{width:"11%"},children:"Phone Number"}),e.jsx("th",{style:{width:"10%"},children:"Resume"}),e.jsx("th",{style:{width:"11%"},children:"No. of Internships"}),e.jsx("th",{style:{width:"11%"},children:"No. of Applied Jobs"})]})}),e.jsx("tbody",{children:(o==null?void 0:o.length)>0?(B=o==null?void 0:o.sort((r,l)=>{var d,i;const n=parseInt(((d=r==null?void 0:r.studentProfile)==null?void 0:d.rollNumber)||0),h=parseInt(((i=l==null?void 0:l.studentProfile)==null?void 0:i.rollNumber)||0);return n-h}))==null?void 0:B.map((r,l)=>{var n,h,d,i,j,f,b,S;return e.jsxs("tr",{children:[e.jsx("td",{children:(n=r==null?void 0:r.studentProfile)==null?void 0:n.rollNumber}),e.jsx("td",{children:(x.role==="tpo_admin"||x.role==="management_admin")&&e.jsx(q,{to:`/${x.role==="tpo_admin"?"tpo":"management"}/user/${r==null?void 0:r._id}`,className:"no-underline text-blue-500 hover:text-blue-700",children:(r==null?void 0:r.first_name)+" "+(r==null?void 0:r.middle_name)+" "+(r==null?void 0:r.last_name)})}),e.jsx("td",{children:(h=r==null?void 0:r.studentProfile)==null?void 0:h.ABCID}),e.jsx("td",{children:e.jsx("a",{href:"mailto:"+(r==null?void 0:r.email),target:"_blank",rel:"noopener noreferrer",className:"no-underline text-blue-500 hover:text-blue-700",children:r==null?void 0:r.email})}),e.jsx("td",{children:r==null?void 0:r.number}),e.jsx("td",{children:e.jsx("a",{href:G+((i=(d=r==null?void 0:r.studentProfile)==null?void 0:d.resume)==null?void 0:i.filepath),target:"_blank",rel:"noopener noreferrer",className:"no-underline text-blue-500 hover:text-blue-700",children:"View Resume"})}),e.jsx("td",{children:((f=(j=r==null?void 0:r.studentProfile)==null?void 0:j.internships)==null?void 0:f.length)||0}),e.jsx("td",{children:((S=(b=r==null?void 0:r.studentProfile)==null?void 0:b.appliedJobs)==null?void 0:S.length)||0})]},l)}):e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:"No Student Registered!"})})})]})})]})},W=()=>e.jsxs(a,{defaultActiveKey:["1"],flush:!0,className:"flex flex-col gap-4",children:[e.jsxs(a.Item,{eventKey:"1",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:[e.jsx(a.Header,{children:"Third Year"}),e.jsx(a.Body,{children:e.jsx(a,{flush:!0,defaultActiveKey:["BSC CS"],className:"flex flex-col gap-2",children:[...Array(6)].map((m,o)=>e.jsx(N,{as:"p",animation:"glow",children:e.jsx(N,{className:"w-full"})},o))})})]}),e.jsx(a.Item,{eventKey:"2",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:e.jsx(a.Header,{children:"Second Year"})}),e.jsx(a.Item,{eventKey:"3",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:e.jsx(a.Header,{children:"First Year"})})]});function le(){document.title="CareerCell | All Students";const[m,o]=s.useState(!0),[x,Y]=s.useState([]),[B,r]=s.useState([]),[l,n]=s.useState([]),[h,d]=s.useState([]),[i,j]=s.useState([]),[f,b]=s.useState([]),[S,w]=s.useState([]),[C,y]=s.useState([]),[I,A]=s.useState([]),[v,T]=s.useState([]),[F,k]=s.useState([]),[K,M]=s.useState([]),[_,D]=s.useState([]),[P,E]=s.useState([]),[R,H]=s.useState([]),[$,L]=s.useState([]),[U,O]=s.useState([]),[V,z]=s.useState([]),J=async()=>{try{const u=localStorage.getItem("token"),t=await p.get(`${g}/student/all-students-data-year-and-branch`,{headers:{Authorization:`Bearer ${u}`}});Y(t.data.firstYearBscCs),r(t.data.firstYearBscIt),n(t.data.firstYearBcom),d(t.data.firstYearBaf),j(t.data.firstYearBmm),b(t.data.firstYearBms),w(t.data.secondYearBscCs),y(t.data.secondYearBscIt),A(t.data.secondYearBcom),T(t.data.secondYearBaf),k(t.data.secondYearBmm),M(t.data.secondYearBms),D(t.data.thirdYearBscCs),E(t.data.thirdYearBscIt),H(t.data.thirdYearBcom),L(t.data.thirdYearBaf),O(t.data.thirdYearBmm),z(t.data.thirdYearBms)}catch(u){console.log("Error fetching jobs ",u)}finally{o(!1)}};return s.useEffect(()=>{J()},[]),e.jsx(e.Fragment,{children:m?e.jsx(W,{}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"my-4 p-6",children:e.jsx("div",{className:"",children:e.jsxs(a,{defaultActiveKey:["1"],flush:!0,className:"flex flex-col gap-4",children:[e.jsxs(a.Item,{eventKey:"1",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:[e.jsx(a.Header,{children:"Third Year"}),e.jsx(a.Body,{children:e.jsxs(a,{flush:!0,defaultActiveKey:["BSC CS"],className:"flex flex-col gap-2",children:[e.jsx(c,{branchName:"BSC CS",studentData:_}),e.jsx(c,{branchName:"BSC IT",studentData:P}),e.jsx(c,{branchName:"BCOM",studentData:R}),e.jsx(c,{branchName:"BAF",studentData:$}),e.jsx(c,{branchName:"BMM",studentData:U}),e.jsx(c,{branchName:"BMS",studentData:V})]})})]}),e.jsxs(a.Item,{eventKey:"2",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:[e.jsx(a.Header,{children:"Second Year"}),e.jsx(a.Body,{children:e.jsxs(a,{flush:!0,defaultActiveKey:["BSC CS"],className:"flex flex-col gap-2",children:[e.jsx(c,{branchName:"BSC CS",studentData:S}),e.jsx(c,{branchName:"BSC IT",studentData:C}),e.jsx(c,{branchName:"BCOM",studentData:I}),e.jsx(c,{branchName:"BAF",studentData:v}),e.jsx(c,{branchName:"BMM",studentData:F}),e.jsx(c,{branchName:"BMS",studentData:K})]})})]}),e.jsxs(a.Item,{eventKey:"3",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:[e.jsx(a.Header,{children:"First Year"}),e.jsx(a.Body,{children:e.jsxs(a,{flush:!0,defaultActiveKey:["BSC CS"],className:"flex flex-col gap-2",children:[e.jsx(c,{branchName:"BSC CS",studentData:x}),e.jsx(c,{branchName:"BSC IT",studentData:B}),e.jsx(c,{branchName:"BCOM",studentData:l}),e.jsx(c,{branchName:"BAF",studentData:h}),e.jsx(c,{branchName:"BMM",studentData:i}),e.jsx(c,{branchName:"BMS",studentData:f})]})})]})]})})})})})}export{le as default};
