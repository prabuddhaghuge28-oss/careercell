import{r as i,j as m}from"./index-F5vbwB_e.js";import{f as j,o as D,g as S}from"./TransitionWrapper-BBSR4vEj.js";function W(n){const e=i.useRef(n);return i.useEffect(()=>{e.current=n},[n]),e}function v(n){const e=W(n);return i.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function K(){const n=i.useRef(!0),e=i.useRef(()=>n.current);return i.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}const F=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",I=typeof document<"u",h=I||F?i.useLayoutEffect:i.useEffect;function Q(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const O=i.createContext(j?window:void 0);O.Provider;function N(){return i.useContext(O)}const C=n=>!n||typeof n=="function"?n:e=>{n.current=e};function P(n,e){const r=C(n),t=C(e);return s=>{r&&r(s),t&&t(s)}}function b(n,e){return i.useMemo(()=>P(n,e),[n,e])}const g=(n,e)=>j?n==null?(e||D()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function X(n,e){const r=N(),[t,s]=i.useState(()=>g(n,r==null?void 0:r.document));if(!t){const o=g(n);o&&s(o)}return i.useEffect(()=>{},[e,t]),i.useEffect(()=>{const o=g(n);o!==t&&s(o)},[n,t]),t}function G({children:n,in:e,onExited:r,mountOnEnter:t,unmountOnExit:s}){const o=i.useRef(null),c=i.useRef(e),a=v(r);i.useEffect(()=>{e?c.current=!0:a(o.current)},[e,a]);const f=b(o,n.ref),u=i.cloneElement(n,{ref:f});return e?u:s||!c.current&&t?null:u}const _=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function $(n,e){if(n==null)return{};var r={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;r[t]=n[t]}return r}function z(n){let{onEnter:e,onEntering:r,onEntered:t,onExit:s,onExiting:o,onExited:c,addEndListener:a,children:f}=n,u=$(n,_);const d=i.useRef(null),E=b(d,S(f)),l=R=>x=>{R&&d.current&&R(d.current,x)},p=i.useCallback(l(e),[e]),y=i.useCallback(l(r),[r]),w=i.useCallback(l(t),[t]),T=i.useCallback(l(s),[s]),L=i.useCallback(l(o),[o]),k=i.useCallback(l(c),[c]),M=i.useCallback(l(a),[a]);return Object.assign({},u,{nodeRef:d},e&&{onEnter:p},r&&{onEntering:y},t&&{onEntered:w},s&&{onExit:T},o&&{onExiting:L},c&&{onExited:k},a&&{addEndListener:M},{children:typeof f=="function"?(R,x)=>f(R,Object.assign({},x,{ref:E})):i.cloneElement(f,{ref:E})})}const U=["component"];function V(n,e){if(n==null)return{};var r={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;r[t]=n[t]}return r}const q=i.forwardRef((n,e)=>{let{component:r}=n,t=V(n,U);const s=z(t);return m.jsx(r,Object.assign({ref:e},s))});function A({in:n,onTransition:e}){const r=i.useRef(null),t=i.useRef(!0),s=v(e);return h(()=>{if(!r.current)return;let o=!1;return s({in:n,element:r.current,initial:t.current,isStale:()=>o}),()=>{o=!0}},[n,s]),h(()=>(t.current=!1,()=>{t.current=!0}),[]),r}function B({children:n,in:e,onExited:r,onEntered:t,transition:s}){const[o,c]=i.useState(!e);e&&o&&c(!1);const a=A({in:!!e,onTransition:u=>{const d=()=>{u.isStale()||(u.in?t==null||t(u.element,u.initial):(c(!0),r==null||r(u.element)))};Promise.resolve(s(u)).then(d,E=>{throw u.in||c(!0),E})}}),f=b(a,n.ref);return o&&!e?null:i.cloneElement(n,{ref:f})}function Y(n,e,r){return n?m.jsx(q,Object.assign({},r,{component:n})):e?m.jsx(B,Object.assign({},r,{transition:e})):m.jsx(G,Object.assign({},r))}function Z(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}export{v as a,b,Q as c,X as d,N as e,Z as h,Y as r,K as u};
