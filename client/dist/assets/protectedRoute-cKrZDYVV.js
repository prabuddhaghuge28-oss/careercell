import{f as d,a as f,u as c,r,j as a,O as m,N as p}from"./index-F5vbwB_e.js";const x=({allowedRoles:s})=>{const{user:e,loading:o}=d(),i=f(),t=c(),[l,n]=r.useState(!0),u=()=>{if(!e)return a.jsx(p,{to:"/",state:{from:i},replace:!0});if(!s.includes(e.role)){e.role==="student"?t("/student/dashboard",{replace:!0}):e.role==="tpo_admin"?t("/tpo/dashboard"):e.role==="management_admin"?t("/management/dashboard",{replace:!0}):t("/404");return}n(!1)};return r.useEffect(()=>{u()},[o,t,e,s]),r.useEffect(()=>{if(e.isProfileCompleted==="false"){e.role==="student"&&t(`/student/complete-profile/${e.id}`),e.role==="tpo_admin"&&t(`/tpo/complete-profile/${e.id}`),e.role==="management_admin"&&t(`/management/complete-profile/${e.id}`);return}n(!1)},[]),a.jsx(a.Fragment,{children:o||l?null:a.jsx(m,{})})};export{x as default};
