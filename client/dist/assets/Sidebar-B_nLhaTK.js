const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SidebarData-rIycklBj.js","assets/index-F5vbwB_e.js","assets/index-wPtW6N_U.css","assets/index-4LvA7J_R.js","assets/iconBase-kqh3y2ny.js","assets/index-C5SjThQw.js","assets/index-wUd720yx.js","assets/index-gPtst4dF.js","assets/index-fx6LhctN.js","assets/SidebarData-BjS0pjnQ.js","assets/index-ClZ5N6SY.js","assets/SidebarData-C1S5NbWX.js"])))=>i.map(i=>d[i]);
import{r as l,j as e,L as m,a as L,u as E,b as k,B as $,S as A,_ as h}from"./index-F5vbwB_e.js";import{a as f,b as I}from"./index-4LvA7J_R.js";import{G as R}from"./iconBase-kqh3y2ny.js";import{L as C}from"./logo-N57qeR3r.js";function F(a){return R({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 256c0 114.9 93.1 208 208 208s208-93.1 208-208S370.9 48 256 48 48 141.1 48 256zm289.1-43.4c7.5-7.5 19.8-7.5 27.3 0 3.8 3.8 5.6 8.7 5.6 13.6s-1.9 9.9-5.7 13.7l-94.3 94c-7.6 6.9-19.3 6.7-26.6-.6l-95.7-95.4c-7.5-7.5-7.6-19.7 0-27.3 7.5-7.5 19.7-7.6 27.3 0l81.1 81.9 81-79.9z"},child:[]}]})(a)}const O=({to:a,onClick:s,active:o,children:c,hasSubnav:n})=>e.jsx(m,{to:a,onClick:s,className:`group flex items-center justify-between w-full px-3 h-12 text-primary-900 text-base no-underline transition
      ${o?"bg-primary-100/80 border-l-4 border-primary-500 font-semibold":"hover:bg-primary-50 hover:border-l-4 hover:border-primary-300"} rounded-md mx-2 mt-2`,"aria-current":o?"page":void 0,children:c}),N=({children:a,className:s=""})=>e.jsx("span",{className:`ml-3 ${s}`,children:a}),z=({to:a,active:s,children:o})=>e.jsx(m,{to:a,className:`flex items-center h-11 pl-8 pr-3 text-primary-900 text-sm no-underline transition mx-2
      ${s?"bg-primary-100/70 border-l-4 border-primary-500 font-medium rounded-md":"hover:bg-primary-50 hover:border-l-4 hover:border-primary-300 rounded-md"}`,"aria-current":s?"page":void 0,children:o}),B=({item:a,currentPath:s})=>{const[o,c]=l.useState(!1);l.useEffect(()=>{a.subNav&&a.subNav.some(d=>s.includes(d.path))?c(!0):c(!1)},[s,a.subNav]);const n=()=>c(!o);return e.jsxs(e.Fragment,{children:[e.jsxs(O,{to:a.path,onClick:a.subNav&&n,active:s===a.path,hasSubnav:!!a.subNav,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`${s===a.path?"bg-primary-600 text-white":"bg-primary-50 text-primary-700 group-hover:bg-primary-100 group-hover:text-primary-800"} w-9 h-9 flex items-center justify-center rounded-lg transition`,children:a.icon}),e.jsx(N,{className:`${s===a.path?"text-primary-900":"text-primary-900 group-hover:text-primary-900"}`,children:a.title})]}),e.jsx("div",{children:a.subNav&&e.jsx("span",{className:`transition-transform duration-300 ${o?"rotate-180":"rotate-0"}`,children:o?a.iconOpened:a.iconClosed})})]}),o&&e.jsx("div",{className:"bg-surface-muted/60 border-l border-primary-100 rounded-md mx-2 mb-2",children:a.subNav.map((d,t)=>e.jsxs(z,{to:d.path,active:s===d.path,children:[e.jsx("span",{className:"text-primary-700 mr-2",children:d.icon}),e.jsx(N,{children:d.title})]},t))})]})},G=({isSidebarVisible:a})=>{const[s,o]=l.useState(a),c=L(),n=E();l.useEffect(()=>{o(a)},[a]);const d=()=>{localStorage.removeItem("token"),t.role==="student"?n("../student/login"):t.role==="tpo_admin"?n("../tpo/login"):t.role==="management_admin"?n("../management/login"):n("../login")},[t,S]=l.useState({name:"Not Found",email:"Not Found",profile:"Profile Img",role:""});l.useEffect(()=>{const i=localStorage.getItem("token");k.get(`${$}/user/detail`,{headers:{Authorization:`Bearer ${i}`}}).then(r=>{var y,v,j;const x=[(y=r.data)==null?void 0:y.first_name,(v=r.data)==null?void 0:v.middle_name,(j=r.data)==null?void 0:j.last_name].filter(b=>b&&b!=="undefined"&&b!=="null").join(" ");S({name:x||"Not Found",email:r.data.email,profile:r.data.profile,role:r.data.role})}).catch(r=>{if(r.response&&r.response.status===401){const x={showToastPass:!0,toastMessagePass:r.response.data.msg};n("../",{state:x})}})},[n]);const[p,w]=l.useState(!1),[g,u]=l.useState([]),_=()=>{w(!p)},D=async()=>{if(t.role==="management_admin"){const{SidebarData:i}=await h(async()=>{const{SidebarData:r}=await import("./SidebarData-rIycklBj.js");return{SidebarData:r}},__vite__mapDeps([0,1,2,3,4,5,6,7,8]));u(i)}else if(t.role==="tpo_admin"){const{SidebarData:i}=await h(async()=>{const{SidebarData:r}=await import("./SidebarData-BjS0pjnQ.js");return{SidebarData:r}},__vite__mapDeps([9,1,2,3,4,5,6,7,10]));u(i)}else if(t.role==="student"){const{SidebarData:i}=await h(async()=>{const{SidebarData:r}=await import("./SidebarData-C1S5NbWX.js");return{SidebarData:r}},__vite__mapDeps([11,1,2,5,4,6,10]));u(i)}};return l.useEffect(()=>{t.role&&D()},[t.role]),e.jsx(e.Fragment,{children:e.jsxs("nav",{className:`bg-surface-soft/90 backdrop-blur w-[240px] min-h-screen h-full z-20 flex flex-col fixed top-0 transition-transform duration-300 ${s?"translate-x-0":"-translate-x-full"} shadow-soft navbar-container lg:w-[260px] border-r border-primary-100 rounded-r-2xl`,children:[e.jsx("div",{className:"flex items-center justify-center px-6 py-6 bg-primary-50 border-b border-primary-100",children:e.jsx("img",{className:"rounded-lg shadow-soft cursor-pointer hover:ring-2 hover:ring-primary-300 transition block mx-auto",src:C,alt:"Logo Image",width:"140",height:"140",onClick:()=>n("/")})}),e.jsxs("div",{className:"flex-grow overflow-y-auto sidebar-content pb-24 [scrollbar-width:thin] [scrollbar-color:theme(colors.primary.300)_transparent]",children:[e.jsx("div",{className:"px-3 pt-4 pb-2 text-sm tracking-wide text-primary-700/80",children:"MENU"}),e.jsx("div",{className:"flex flex-col justify-center w-full pb-2",children:g.length>0?g.map((i,r)=>e.jsx(B,{item:i,currentPath:c.pathname},r)):e.jsx("p",{className:"text-center text-primary-700",children:"Loading..."})})]}),e.jsxs("div",{className:"bottom-0 absolute w-full transition-all duration-300",children:[p&&e.jsxs("div",{className:`w-full rounded-t-xl bg-primary-50 border-t border-primary-100 ${p?"opacity-100 visible translate-y-0":"opacity-0 invisible -translate-y-5"} transition-all duration-200`,children:[t.role==="student"&&e.jsxs(m,{to:"../student/account",className:"flex items-center rounded-t-md no-underline text-primary-900 p-3 hover:bg-primary-200",children:[e.jsx(f,{className:"mr-2"})," ",e.jsx("span",{children:"Account Details"})]}),t.role==="tpo_admin"&&e.jsxs(m,{to:"../tpo/account",className:"flex items-center rounded-t-md no-underline text-primary-900 p-3 hover:bg-primary-200",children:[e.jsx(f,{className:"mr-2"})," ",e.jsx("span",{children:"Account Details"})]}),t.role==="management_admin"&&e.jsxs(m,{to:"../management/account",className:"flex items-center rounded-t-md no-underline text-primary-900 p-3 hover:bg-primary-200",children:[e.jsx(f,{className:"mr-2"})," ",e.jsx("span",{children:"Account Details"})]}),e.jsxs("button",{onClick:d,className:"flex items-center rounded-t-md w-full p-3 text-red-700 hover:bg-primary-200",children:[e.jsx(I,{className:"mr-2"})," Logout"]})]}),e.jsxs("div",{className:"flex justify-center items-center cursor-pointer bg-primary-50 border-t border-primary-100 hover:bg-primary-100/60 transition",onClick:_,children:[e.jsx("img",{src:`${A}${t.profile}`,alt:"Profile Img",width:"45px",className:"mx-2 my-2 rounded-2xl transition-all duration-300 shadow-soft ring-1 ring-primary-200"}),e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex flex-col justify-center py-1",children:[e.jsx("h2",{className:"text-base font-semibold text-primary-900 leading-tight",children:t.name}),e.jsx("p",{className:"text-sm text-primary-700 truncate",children:t.email})]})}),e.jsx("div",{className:"px-1",children:e.jsx(F,{size:24,className:`transition-transform duration-300 ${p?"rotate-180":"rotate-0"}`})})]})]})]})})};export{G as default};
