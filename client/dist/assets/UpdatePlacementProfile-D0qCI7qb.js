import{r as m,b as S,B as P,j as l,S as We}from"./index-F5vbwB_e.js";import{B as De}from"./Button-yCakRxFg.js";import{F as a,a as s}from"./Form-DX8VXhY2.js";import{C as el}from"./Col-CGBuhqx3.js";import{I as ll}from"./Image-CNGmOD5P.js";import{C as tl}from"./Toast-3WOWCnnS.js";import{U as g}from"./UploadResult-DyJ7Sc3m.js";import"./ThemeProvider-nWUV6F1R.js";import"./useTimeout-BGLe_eT-.js";import"./TransitionWrapper-BBSR4vEj.js";import"./warning-BE2tzXYX.js";const il=({fetchCurrentUserData:e})=>{const[r,p]=m.useState(""),[x,j]=m.useState({id:"",role:""});m.useEffect(()=>{const f=localStorage.getItem("token");S.get(`${P}/user/detail`,{headers:{Authorization:`Bearer ${f}`}}).then(d=>{j({id:d.data.id,role:d.data.role})}).catch(d=>{console.log("UploadResume.jsx => ",d)})},[]);const u=async f=>{if(f.preventDefault(),!f.target.files[0]){p("Please select a file");return}const d=new FormData;d.append("resume",f.target.files[0]),d.append("userId",x.id);try{const c=await S.post(`${P}/student/upload-resume`,d,{headers:{"Content-Type":"multipart/form-data"}});e&&e(),p("Resume uploaded successfully")}catch(c){console.error("Error uploading the resume",c),p("Error uploading the resume")}};return l.jsx(l.Fragment,{children:l.jsxs(a,{controlId:"floatingResume",label:"Update Resume",children:[l.jsx(s.Control,{type:"file",accept:".pdf, .doc, .docx",placeholder:"Upload Resume",name:"resume",onChange:u}),r&&l.jsx("p",{className:"text-sm text-gray-300 mt-1",children:r})]})})};function xl(){var v,y,N,B,E,Q,I,A,w,G,F,H,U,Y,k,M,R,T,L,_,O,$,K,z,q,V,J,W,X,Z,D,ee,le,te,ie,ne,oe,se,ae,re,de,ce,me,fe,pe,he,xe,ue,ge,Se,Pe,je,be,Ce,ve,ye,Ne,Be,Ee;document.title="CareerCell | Placement Profile";const[e,r]=m.useState(null),[p,x]=m.useState(!0),[j,u]=m.useState(!1),[f,d]=m.useState(""),c=async()=>{try{const t=localStorage.getItem("token"),i=await S.get(`${P}/user/detail`,{headers:{Authorization:`Bearer ${t}`}});r(i.data),x(!1)}catch(t){console.log("Account.jsx => ",t),x(!1)}};m.useEffect(()=>{c(),C()},[p]);const h=t=>{var i;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,SGPA:{...(i=e==null?void 0:e.studentProfile)==null?void 0:i.SGPA,[t.target.name]:t.target.value}}}),C()},Xe=async t=>{t.preventDefault();try{const i=localStorage.getItem("token"),n=await S.post(`${P}/user/update-profile`,e,{headers:{Authorization:`Bearer ${i}`}});n.data&&n.data.msg&&(d(n.data.msg),u(!0))}catch(i){console.log("UserDetails => ",i)}},[b,Ze]=m.useState(0),C=()=>{var n,o,Qe,Ie,Ae,we,Ge,Fe,He,Ue,Ye,ke,Me,Re,Te,Le,_e,Oe,$e,Ke,ze,qe,Ve,Je;let t=0,i=0;((o=(n=e==null?void 0:e.studentProfile)==null?void 0:n.SGPA)==null?void 0:o.sem1)!=="0"&&(t+=Number((Ie=(Qe=e==null?void 0:e.studentProfile)==null?void 0:Qe.SGPA)==null?void 0:Ie.sem1),i+=1),((we=(Ae=e==null?void 0:e.studentProfile)==null?void 0:Ae.SGPA)==null?void 0:we.sem2)!=="0"&&(t+=Number((Fe=(Ge=e==null?void 0:e.studentProfile)==null?void 0:Ge.SGPA)==null?void 0:Fe.sem2),i+=1),((Ue=(He=e==null?void 0:e.studentProfile)==null?void 0:He.SGPA)==null?void 0:Ue.sem3)!=="0"&&(t+=Number((ke=(Ye=e==null?void 0:e.studentProfile)==null?void 0:Ye.SGPA)==null?void 0:ke.sem3),i+=1),((Re=(Me=e==null?void 0:e.studentProfile)==null?void 0:Me.SGPA)==null?void 0:Re.sem4)!=="0"&&(t+=Number((Le=(Te=e==null?void 0:e.studentProfile)==null?void 0:Te.SGPA)==null?void 0:Le.sem4),i+=1),((Oe=(_e=e==null?void 0:e.studentProfile)==null?void 0:_e.SGPA)==null?void 0:Oe.sem5)!=="0"&&(t+=Number((Ke=($e=e==null?void 0:e.studentProfile)==null?void 0:$e.SGPA)==null?void 0:Ke.sem5),i+=1),((qe=(ze=e==null?void 0:e.studentProfile)==null?void 0:ze.SGPA)==null?void 0:qe.sem6)!=="0"&&(t+=Number((Je=(Ve=e==null?void 0:e.studentProfile)==null?void 0:Ve.SGPA)==null?void 0:Je.sem6),i+=1),Ze((t/i).toFixed(2))};return l.jsx(l.Fragment,{children:p?l.jsx("div",{className:"flex justify-center h-72 items-center",children:l.jsx("i",{className:"fa-solid fa-spinner fa-spin text-3xl"})}):l.jsxs(l.Fragment,{children:[l.jsx(tl,{show:j,onClose:()=>u(!1),message:f,delay:3e3,position:"bottom-end"}),l.jsx("div",{className:"",children:l.jsxs("form",{onSubmit:Xe,children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 my-4 text-base max-sm:text-sm",children:[l.jsxs("div",{className:"grid backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400 p-6 max-md:col-span-2",children:[l.jsx("span",{className:"text-2xl max-sm:text-xl",children:"Basic Details"}),l.jsxs("div",{className:"flex flex-col justify-between py-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-700 font-bold",children:"Full Name: "}),l.jsxs("span",{className:"text-gray-800",children:[(e==null?void 0:e.first_name)+" ",(e==null?void 0:e.middle_name)&&(e==null?void 0:e.middle_name)+" ",e==null?void 0:e.last_name]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-700 font-bold",children:"Email: "}),l.jsx("span",{className:"text-gray-800",children:e==null?void 0:e.email})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-700 font-bold",children:"Number: "}),l.jsx("span",{className:"text-gray-800",children:e==null?void 0:e.number})]}),((v=e==null?void 0:e.studentProfile)==null?void 0:v.ABCID)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-700 font-bold",children:"ABCID: "}),l.jsx("span",{className:"text-gray-800",children:(y=e==null?void 0:e.studentProfile)==null?void 0:y.ABCID})]})]}),l.jsx(el,{xs:5,md:4,className:"flex justify-end items-start rounded",children:l.jsx(ll,{src:We+(e==null?void 0:e.profile),thumbnail:!0})})]}),l.jsxs("div",{className:"grid grid-cols-2",children:[l.jsx(il,{fetchCurrentUserData:c})," ",((B=(N=e==null?void 0:e.studentProfile)==null?void 0:N.resume)==null?void 0:B.filepath)!=="undefined"&&l.jsxs("div",{className:"py-2 px-2",children:[l.jsx("span",{className:"bg-blue-500 py-1 pr-2 rounded cursor-pointer hover:bg-blue-700",children:l.jsxs("a",{href:We+((Q=(E=e==null?void 0:e.studentProfile)==null?void 0:E.resume)==null?void 0:Q.filepath),target:"_blanck",className:"no-underline text-white",children:[l.jsx("i",{className:"fa-regular fa-eye px-2"}),"View Resume"]})}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(A=(I=e==null?void 0:e.studentProfile)==null?void 0:I.resume)==null?void 0:A.filename})]})]})]})]}),l.jsxs("div",{className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400 p-6 max-md:col-span-2",children:[l.jsx("span",{className:"text-2xl max-sm:text-xl",children:"College Information"}),l.jsxs("div",{className:"grid grid-cols-2",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{className:" py-3 flex flex-wrap gap-2",children:[l.jsx(a,{controlId:"floatingSem1",label:"Sem 1",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 1",name:"sem1",step:"0.01",value:(G=(w=e==null?void 0:e.studentProfile)==null?void 0:w.SGPA)==null?void 0:G.sem1,onChange:h})}),l.jsx(a,{controlId:"floatingSem2",label:"Sem 2",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 2",name:"sem2",step:"0.01",value:(H=(F=e==null?void 0:e.studentProfile)==null?void 0:F.SGPA)==null?void 0:H.sem2,onChange:h})}),l.jsx(a,{controlId:"floatingSem3",label:"Sem 3",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 3",name:"sem3",step:"0.01",value:(Y=(U=e==null?void 0:e.studentProfile)==null?void 0:U.SGPA)==null?void 0:Y.sem3,onChange:h})}),l.jsx(a,{controlId:"floatingSem4",label:"Sem 4",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 4",name:"sem4",step:"0.01",value:(M=(k=e==null?void 0:e.studentProfile)==null?void 0:k.SGPA)==null?void 0:M.sem4,onChange:h})})]}),l.jsxs("div",{className:" py-3 flex flex-wrap gap-1",children:[l.jsx(a,{controlId:"floatingSem5",label:"Sem 5",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 5",name:"sem5",step:"0.01",value:(T=(R=e==null?void 0:e.studentProfile)==null?void 0:R.SGPA)==null?void 0:T.sem5,onChange:h})}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx(a,{controlId:"floatingSem6",label:"Sem 6",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 6",name:"sem6",step:"0.01",value:(_=(L=e==null?void 0:e.studentProfile)==null?void 0:L.SGPA)==null?void 0:_.sem6,onChange:h})}),l.jsx(g,{resultType:"sem6",label:"Semester Results",fetchCurrentUserData:c,currentUser:e?{id:e.id}:{id:""},resultFile:($=(O=e==null?void 0:e.studentProfile)==null?void 0:O.resultFiles)==null?void 0:$.sem6})]})]})]}),l.jsxs("div",{className:"px-2 py-3 flex flex-col gap-3",children:[l.jsx(a,{controlId:"floatingSelectYear",label:"Current Year",children:l.jsxs(s.Select,{"aria-label":"Floating label select year",className:"cursor-pointer",name:"year",value:((K=e==null?void 0:e.studentProfile)==null?void 0:K.year)||"undefined",onChange:t=>{r({...e,studentProfile:{...e==null?void 0:e.studentProfile,year:t.target.value}})},children:[l.jsx("option",{disabled:!0,value:"undefined",className:"text-gray-400",children:"Enter Current Year"}),l.jsx("option",{value:"1",children:"1st"}),l.jsx("option",{value:"2",children:"2nd"}),l.jsx("option",{value:"3",children:"3rd"})]})}),l.jsx(a,{controlId:"floatingLiveKT",label:"Live KT's",children:l.jsx(s.Control,{type:"number",placeholder:"Live KT's",name:"liveKT",value:((z=e==null?void 0:e.studentProfile)==null?void 0:z.liveKT)||0,onChange:t=>{r({...e,studentProfile:{...e==null?void 0:e.studentProfile,liveKT:t.target.value}})}})}),l.jsx(s.Check,{type:"switch",id:"gap",checked:((q=e==null?void 0:e.studentProfile)==null?void 0:q.gap)==="true"||((V=e==null?void 0:e.studentProfile)==null?void 0:V.gap)===!0,onChange:t=>{r({...e,studentProfile:{...e==null?void 0:e.studentProfile,gap:t.target.checked}})},name:"gap",label:"Any Gap"}),b!=="NaN"&&l.jsxs("div",{className:"mt-4 text-2xl text-green-500 font-bold",children:[l.jsx("span",{className:"",children:"CGPA: "}),l.jsx("span",{className:"",children:b})]})]})]})]}),l.jsxs("div",{className:"col-span-2 backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400 p-6",children:[l.jsx("span",{className:"text-2xl max-sm:text-xl",children:"Past Qualification"}),l.jsxs("div",{className:"grid grid-cols-3 max-sm:grid-cols-1",children:[l.jsxs("div",{className:"px-2 py-3 flex flex-col gap-2",children:[l.jsx(a,{controlId:"floatingSelectSSC",label:"SSC Board Name",children:l.jsxs(s.Select,{"aria-label":"Floating label select SSCBoard",className:"cursor-pointer",name:"sscBoard",value:((X=(W=(J=e==null?void 0:e.studentProfile)==null?void 0:J.pastQualification)==null?void 0:W.ssc)==null?void 0:X.board)||"undefined",onChange:t=>{var i,n,o;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(i=e==null?void 0:e.studentProfile)==null?void 0:i.pastQualification,ssc:{...(o=(n=e==null?void 0:e.studentProfile)==null?void 0:n.pastQualification)==null?void 0:o.ssc,board:t.target.value}}}})},children:[l.jsx("option",{disabled:!0,value:"undefined",className:"text-gray-400",children:"Enter Your SSC Board Name"}),l.jsx("option",{value:"Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)",children:"Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)"}),l.jsx("option",{value:"Central Board of Secondary Education (CBSE)",children:"Central Board of Secondary Education (CBSE)"}),l.jsx("option",{value:"Council for the Indian School Certificate Examinations (CISCE)",children:"Council for the Indian School Certificate Examinations (CISCE)"}),l.jsx("option",{value:"Other",children:"Other"})]})}),l.jsx(a,{controlId:"floatingSSCMarks",label:"SSC Percentage",children:l.jsx(s.Control,{type:"number",placeholder:"SSC Percentage",name:"sscPercentage",value:(ee=(D=(Z=e==null?void 0:e.studentProfile)==null?void 0:Z.pastQualification)==null?void 0:D.ssc)==null?void 0:ee.percentage,onChange:t=>{var i,n,o;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(i=e==null?void 0:e.studentProfile)==null?void 0:i.pastQualification,ssc:{...(o=(n=e==null?void 0:e.studentProfile)==null?void 0:n.pastQualification)==null?void 0:o.ssc,percentage:t.target.value}}}})}})}),l.jsx(g,{resultType:"ssc",label:"SSC Result",fetchCurrentUserData:c,currentUser:e?{id:e.id}:{id:""},resultFile:(te=(le=e==null?void 0:e.studentProfile)==null?void 0:le.resultFiles)==null?void 0:te.ssc}),l.jsx(a,{controlId:"floatingSelectSSCPassingYear",label:"SSC Passing Year",children:l.jsx(s.Control,{type:"number",placeholder:"SSC Passing Year",name:"sscPassingYear",value:(oe=(ne=(ie=e==null?void 0:e.studentProfile)==null?void 0:ie.pastQualification)==null?void 0:ne.ssc)==null?void 0:oe.year,onChange:t=>{var i,n,o;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(i=e==null?void 0:e.studentProfile)==null?void 0:i.pastQualification,ssc:{...(o=(n=e==null?void 0:e.studentProfile)==null?void 0:n.pastQualification)==null?void 0:o.ssc,year:t.target.value}}}})}})})]}),l.jsxs("div",{className:"px-2 py-3 flex flex-col gap-2",children:[l.jsx(a,{controlId:"floatingSelectHSC",label:"HSC Board Name",children:l.jsxs(s.Select,{"aria-label":"Floating label select HSC Board",className:"cursor-pointer",name:"hscBoard",value:((re=(ae=(se=e==null?void 0:e.studentProfile)==null?void 0:se.pastQualification)==null?void 0:ae.hsc)==null?void 0:re.board)||"undefined",onChange:t=>{var i,n,o;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(i=e==null?void 0:e.studentProfile)==null?void 0:i.pastQualification,hsc:{...(o=(n=e==null?void 0:e.studentProfile)==null?void 0:n.pastQualification)==null?void 0:o.hsc,board:t.target.value}}}})},children:[l.jsx("option",{disabled:!0,value:"undefined",className:"text-gray-400",children:"Enter Your HSC Board Name"}),l.jsx("option",{value:"Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)",children:"Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)"}),l.jsx("option",{value:"Central Board of Secondary Education (CBSE)",children:"Central Board of Secondary Education (CBSE)"}),l.jsx("option",{value:"Council for the Indian School Certificate Examinations (CISCE)",children:"Council for the Indian School Certificate Examinations (CISCE)"}),l.jsx("option",{value:"NoHSC",children:"No HSC"}),l.jsx("option",{value:"Other",children:"Other"})]})}),l.jsx(a,{controlId:"floatingHSCMarks",label:"HSC Percentage",children:l.jsx(s.Control,{type:"number",placeholder:"HSC Percentage",name:"hscPercentage",value:((me=(ce=(de=e==null?void 0:e.studentProfile)==null?void 0:de.pastQualification)==null?void 0:ce.hsc)==null?void 0:me.percentage)||"",onChange:t=>{var i,n,o;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(i=e==null?void 0:e.studentProfile)==null?void 0:i.pastQualification,hsc:{...(o=(n=e==null?void 0:e.studentProfile)==null?void 0:n.pastQualification)==null?void 0:o.hsc,percentage:t.target.value}}}})}})}),l.jsx(g,{resultType:"hsc",label:"HSC Result",fetchCurrentUserData:c,currentUser:e?{id:e.id}:{id:""},resultFile:(pe=(fe=e==null?void 0:e.studentProfile)==null?void 0:fe.resultFiles)==null?void 0:pe.hsc}),l.jsx(a,{controlId:"floatingSelectHSCPassingYear",label:"HSC Passing Year",children:l.jsx(s.Control,{type:"number",placeholder:"HSC Passing Year",name:"hscPassingYear",value:((ue=(xe=(he=e==null?void 0:e.studentProfile)==null?void 0:he.pastQualification)==null?void 0:xe.hsc)==null?void 0:ue.year)||"",onChange:t=>{var i,n,o;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(i=e==null?void 0:e.studentProfile)==null?void 0:i.pastQualification,hsc:{...(o=(n=e==null?void 0:e.studentProfile)==null?void 0:n.pastQualification)==null?void 0:o.hsc,year:t.target.value}}}})}})})]}),l.jsxs("div",{className:"px-2 py-3 flex flex-col gap-2",children:[l.jsx(a,{controlId:"floatingSelectDiploma",label:"Diploma Board Name",children:l.jsxs(s.Select,{"aria-label":"Floating label select Diploma Board",className:"cursor-pointer",name:"diplomaBoard",value:((Pe=(Se=(ge=e==null?void 0:e.studentProfile)==null?void 0:ge.pastQualification)==null?void 0:Se.diploma)==null?void 0:Pe.board)||"undefined",onChange:t=>{var i,n,o;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(i=e==null?void 0:e.studentProfile)==null?void 0:i.pastQualification,diploma:{...(o=(n=e==null?void 0:e.studentProfile)==null?void 0:n.pastQualification)==null?void 0:o.diploma,board:t.target.value}}}})},children:[l.jsx("option",{disabled:!0,value:"undefined",className:"text-gray-400",children:"Enter Your Diploma University Name"}),l.jsx("option",{value:"Mumbai University",children:"Mumbai University"}),l.jsx("option",{value:"NoDiploma",children:"No Diploma"}),l.jsx("option",{value:"Other",children:"Other"})]})}),l.jsx(a,{controlId:"floatingDiplomaMarks",label:"Diploma CGPA",children:l.jsx(s.Control,{type:"number",placeholder:"Diploma Percentage",name:"diplomaPercentage",value:((Ce=(be=(je=e==null?void 0:e.studentProfile)==null?void 0:je.pastQualification)==null?void 0:be.diploma)==null?void 0:Ce.percentage)||"",onChange:t=>{var i,n,o;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(i=e==null?void 0:e.studentProfile)==null?void 0:i.pastQualification,diploma:{...(o=(n=e==null?void 0:e.studentProfile)==null?void 0:n.pastQualification)==null?void 0:o.diploma,percentage:t.target.value}}}})}})}),l.jsx(a,{controlId:"floatingSelectDiplomaPassingYear",label:"Diploma Passing Year",children:l.jsx(s.Control,{type:"number",placeholder:"Diploma Passing Year",name:"diplomaPassingYear",value:((Ne=(ye=(ve=e==null?void 0:e.studentProfile)==null?void 0:ve.pastQualification)==null?void 0:ye.diploma)==null?void 0:Ne.year)||"",onChange:t=>{var i,n,o;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(i=e==null?void 0:e.studentProfile)==null?void 0:i.pastQualification,diploma:{...(o=(n=e==null?void 0:e.studentProfile)==null?void 0:n.pastQualification)==null?void 0:o.diploma,year:t.target.value}}}})}})}),l.jsx(g,{resultType:"diploma",label:"Diploma Result",fetchCurrentUserData:c,currentUser:e?{id:e.id}:{id:""},resultFile:(Ee=(Be=e==null?void 0:e.studentProfile)==null?void 0:Be.resultFiles)==null?void 0:Ee.diploma})]})]})]})]}),l.jsx("div",{className:"flex flex-col justify-center items-center gap-2",onMouseOver:t=>{t.target.querySelector("Button i").classList.add("fa-beat")},onMouseLeave:t=>{t.target.querySelector("Button i").classList.remove("fa-beat")},children:l.jsxs(De,{variant:"primary",type:"submit",size:"lg",children:[l.jsx("i",{className:"fa-regular fa-floppy-disk mr-2"}),"Save"]})})]})})]})})}export{xl as default};
