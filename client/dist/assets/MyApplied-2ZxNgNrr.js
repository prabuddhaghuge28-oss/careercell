import{r as a,b as r,B as d,j as t,L as m}from"./index-F5vbwB_e.js";import{T as u,O as f,a as y}from"./TablePlaceholder-yL1ruwTr.js";import{T as g}from"./Table-Cvi54BG9.js";import"./hasClass-CHl0QHe7.js";import"./TransitionWrapper-BBSR4vEj.js";import"./useTimeout-BGLe_eT-.js";import"./ThemeProvider-nWUV6F1R.js";import"./warning-BE2tzXYX.js";import"./Placeholder-sFQbI7v7.js";import"./Col-CGBuhqx3.js";import"./Button-yCakRxFg.js";function k(){document.title="CarrerCell | My Applied Job";const[n,o]=a.useState(!0),[i,c]=a.useState({}),[l,h]=a.useState([]);a.useEffect(()=>{const e=localStorage.getItem("token");r.get(`${d}/user/detail`,{headers:{Authorization:`Bearer ${e}`}}).then(s=>{c({id:s.data.id,role:s.data.role})}).catch(s=>{console.log("MyApplied.jsx => ",s),setToastMessage(s),setShowToast(!0)})},[]);const x=async()=>{if(i!=null&&i.id)try{const e=await r.get(`${d}/tpo/myjob/${i==null?void 0:i.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e!=null&&e.data&&h(e==null?void 0:e.data)}catch(e){console.log("Error While Fetching Error => ",e)}finally{o(!1)}};a.useEffect(()=>{x()},[i==null?void 0:i.id]);const p=e=>t.jsx(y,{id:"button-tooltip",...e,children:"View Post"});return t.jsx(t.Fragment,{children:n?t.jsx(u,{}):t.jsx("div",{className:"overflow-auto",children:t.jsxs(g,{striped:!0,bordered:!0,hover:!0,className:"bg-white my-6 rounded-lg shadow w-full text-base max-sm:text-sm",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{width:"6%"},children:"Sr. No."}),t.jsx("th",{style:{width:"16%"},children:t.jsx("b",{children:"Company Name"})}),t.jsx("th",{style:{width:"16%"},children:"Job Title"}),t.jsx("th",{style:{width:"10%"},children:"Annual CTC"}),t.jsx("th",{style:{width:"10%"},children:"Applied On"}),t.jsx("th",{style:{width:"10%"},children:"Last date of Application"}),t.jsx("th",{style:{width:"12%"},children:"No. of Students Applied"}),t.jsx("th",{style:{width:"10%"},children:"Action"})]})}),t.jsx("tbody",{children:(l==null?void 0:l.length)>0?l==null?void 0:l.map((e,s)=>t.jsxs("tr",{children:[t.jsx("td",{children:s+1}),t.jsx("td",{children:t.jsx("b",{children:e==null?void 0:e.companyName})}),t.jsx("td",{children:e==null?void 0:e.jobTitle}),t.jsx("td",{children:e==null?void 0:e.salary}),t.jsx("td",{children:new Date(e==null?void 0:e.appliedAt.split("T")).toLocaleDateString("en-IN")}),t.jsx("td",{children:new Date(e==null?void 0:e.applicationDeadline).toLocaleDateString("en-IN")}),t.jsx("td",{children:e==null?void 0:e.numberOfApplicants}),t.jsx("td",{children:t.jsx("div",{className:"flex justify-around items-center",children:t.jsx("div",{className:"px-0.5",children:t.jsx(f,{placement:"top",delay:{show:250,hide:400},overlay:p,children:t.jsx(m,{className:"text-black",to:`/student/job/${e.jobId}`,children:t.jsx("i",{className:"fa-solid fa-circle-info text-2xl max-sm:text-lg cursor-pointer transition-colors duration-200 ease-in-out hover:text-blue-500"})})})})})})]},s)):t.jsx("tr",{children:t.jsx("td",{colSpan:"8",children:"No Jobs found"})})})]})})})}export{k as default};
