import{u as L,a as P,r as a,j as e,b as k,B as F}from"./index-F5vbwB_e.js";import{L as R}from"./logo-N57qeR3r.js";import{C as T}from"./Toast-3WOWCnnS.js";import{i as q}from"./auth.utility-BSlGJMKu.js";import{B}from"./Button-yCakRxFg.js";import"./ThemeProvider-nWUV6F1R.js";import"./useTimeout-BGLe_eT-.js";import"./TransitionWrapper-BBSR4vEj.js";function G(){document.title="CarrerCell | Student Login";const o=L(),g=P(),[c,m]=a.useState(!1),[t,i]=a.useState({});a.useEffect(()=>{q()&&o("../student/dashboard")},[o]);const[w,n]=a.useState(!1),[j,u]=a.useState(""),[s,y]=a.useState({email:"",password:""}),{email:b,password:v}=s,p=l=>{if(y({...s,[l.target.name]:l.target.value}),l.target.name==="email")return i({...t,email:""});if(l.target.name==="password")return i({...t,password:""})},N=async l=>{var f,h;if(l.preventDefault(),!(s!=null&&s.email)&&!(s!=null&&s.password))return i({email:"Email Required!",password:"Password Required!"});if(!(s!=null&&s.email))return i({email:"Email Required!"});if(!(s!=null&&s.password))return i({password:"Password Required!"});m(!0);try{const r=await k.post(`${F}/student/login`,s);localStorage.setItem("token",r.data.token),o("../student/dashboard")}catch(r){(h=(f=r==null?void 0:r.response)==null?void 0:f.data)!=null&&h.msg&&(u(r.response.data.msg),n(!0)),console.log("Error in Student login.jsx => ",r),m(!1)}},{showToastPass:x,toastMessagePass:E}=g.state||{showToastPass:!1,toastMessagePass:""};a.useEffect(()=>{x&&(u(E),n(x),o(".",{replace:!0,state:{}}))},[]);const[d,C]=a.useState(!1),S=()=>{C(!d)};return e.jsxs(e.Fragment,{children:[e.jsx(T,{show:w,onClose:()=>n(!1),message:j,delay:3e3,position:"bottom-end"}),e.jsxs("div",{className:"relative flex justify-center items-center min-h-screen bg-gradient-to-br from-primary-50 via-surface-soft to-primary-100",children:[e.jsxs("div",{className:"absolute -z-10 inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-20 -right-20 w-80 h-80 bg-primary-300/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -left-16 w-96 h-96 bg-accent-300/30 rounded-full blur-3xl"})]}),e.jsxs("form",{className:"form-signin flex justify-center items-center flex-col gap-4 backdrop-blur-xl bg-white/70 border border-white/40 rounded-2xl p-8 md:p-10 shadow-soft w-[92%] sm:w-[80%] md:w-[500px]",onSubmit:N,children:[e.jsxs("div",{className:"flex justify-center items-center flex-col text-center",children:[e.jsx("img",{className:"mb-4 rounded-xl shadow w-24 h-24 md:w-28 md:h-28 cursor-pointer",src:`${R}`,alt:"Logo Image",onClick:()=>o("/")}),e.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-800",children:"Student Login"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Access your dashboard to manage placements"})]}),e.jsxs("div",{className:"flex flex-col justify-center w-full",children:[e.jsx("label",{htmlFor:"inputEmail",className:"sr-only",children:"Email address"}),e.jsx("input",{type:"email",id:"inputEmail",className:"form-control ml-1 bg-white/80 focus:bg-white focus:ring-2 focus:ring-primary-300 rounded-md",placeholder:"Email address",autoFocus:"",fdprocessedid:"gwlj3s",autoComplete:"email",name:"email",value:b,onChange:p}),e.jsx("div",{className:"text-red-500 ml-2 text-left",children:t==null?void 0:t.email})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-center items-center w-full",children:[e.jsx("label",{htmlFor:"inputPassword",className:"sr-only",children:"Password"}),e.jsx("input",{type:`${d?"text":"password"}`,id:"inputPassword",className:"form-control bg-white/80 focus:bg-white focus:ring-2 focus:ring-primary-300 rounded-md",placeholder:"Password",fdprocessedid:"9sysne",autoComplete:"current-password",name:"password",value:v,onChange:p}),e.jsx("i",{className:`${d?"fa-solid fa-eye":"fa-regular fa-eye-slash"} -ml-7 text-gray-500 hover:text-gray-700 cursor-pointer`,onClick:S})]}),e.jsx("div",{className:"text-red-500 text-left ml-2",children:t==null?void 0:t.password})]}),e.jsxs("div",{className:"flex justify-between items-center w-full text-sm text-gray-600",children:[e.jsx("span",{}),e.jsx("span",{className:"cursor-pointer hover:text-primary-700",children:"Forgot password?"})]}),e.jsx("div",{className:"flex justify-center items-center flex-col w-full",children:e.jsx(B,{type:"submit",variant:"primary",disabled:c,className:"w-full py-2 md:py-2.5 rounded-md shadow hover:shadow-md transition-shadow",children:c?"Loading...":"Log In"})}),e.jsxs("span",{className:"text-center text-sm text-gray-600",children:["Don't have an account?",e.jsx("span",{className:"text-primary-700 font-semibold cursor-pointer px-1 hover:underline",onClick:()=>o("../student/signup"),children:"Create new account"})]})]})]})]})}export{G as default};
