import{r as a,j as s}from"./index-F5vbwB_e.js";import{B as Te}from"./Button-yCakRxFg.js";import{c as h,u as S,a as ze}from"./ThemeProvider-nWUV6F1R.js";import{f as pe,o as je,s as U,R as Xe,l as Me,i as Ye,u as qe,r as we,h as Je,j as Qe}from"./TransitionWrapper-BBSR4vEj.js";import{u as ge,b as Ze,F as Be}from"./useTimeout-BGLe_eT-.js";import{e as Oe,d as Pe,u as et,a as H,r as Ce,c as be,h as tt}from"./hasClass-CHl0QHe7.js";import{a as nt}from"./Toast-3WOWCnnS.js";const ot=(t=>a.forwardRef((e,n)=>s.jsx("div",{...e,ref:n,className:h(e.className,t)})));function rt(t){const e=a.useRef(null);return a.useEffect(()=>{e.current=t}),e.current}var at=Function.prototype.bind.call(Function.prototype.call,[].slice);function B(t,e){return at(t.querySelectorAll(e))}const st="data-rr-ui-";function it(t){return`${st}${t}`}var ee;function xe(t){if((!ee&&ee!==0||t)&&pe){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ee=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ee}function lt(){return a.useState(null)}function fe(t){t===void 0&&(t=je());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function dt(t){const e=a.useRef(t);return e.current=t,e}function ct(t){const e=dt(t);a.useEffect(()=>()=>e.current(),[])}function ut(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Ne=it("modal-open");class Ee{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return ut(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[o]:r.style[o]},e.scrollBarWidth&&(n[o]=`${parseInt(U(r,o)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Ne,""),U(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Ne),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const ft=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ht(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}let he;function mt(t){return he||(he=new Ee({ownerDocument:t==null?void 0:t.document})),he}function gt(t){const e=Oe(),n=t||mt(e),o=a.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:a.useCallback(r=>{o.current.dialog=r},[]),setBackdropRef:a.useCallback(r=>{o.current.backdrop=r},[])})}const Se=a.forwardRef((t,e)=>{let{show:n=!1,role:o="dialog",className:r,style:l,children:E,backdrop:f=!0,keyboard:y=!0,onBackdropClick:T,onEscapeKeyDown:m,transition:A,runTransition:v,backdropTransition:M,runBackdropTransition:te,autoFocus:K=!0,enforceFocus:ne=!0,restoreFocus:w=!0,restoreFocusOptions:oe,renderDialog:G,renderBackdrop:re=d=>s.jsx("div",Object.assign({},d)),manager:ae,container:se,onShow:V,onHide:F=()=>{},onExit:ie,onExited:D,onExiting:z,onEnter:X,onEntering:Y,onEntered:q}=t,le=ht(t,ft);const g=Oe(),C=Pe(se),c=gt(ae),de=et(),J=rt(n),[R,b]=a.useState(!n),u=a.useRef(null);a.useImperativeHandle(e,()=>c,[c]),pe&&!J&&n&&(u.current=fe(g==null?void 0:g.document)),n&&R&&b(!1);const p=H(()=>{if(c.add(),x.current=Me(document,"keydown",ue),I.current=Me(document,"focus",()=>setTimeout(ce),!0),V&&V(),K){var d,P;const $=fe((d=(P=c.dialog)==null?void 0:P.ownerDocument)!=null?d:g==null?void 0:g.document);c.dialog&&$&&!be(c.dialog,$)&&(u.current=$,c.dialog.focus())}}),L=H(()=>{if(c.remove(),x.current==null||x.current(),I.current==null||I.current(),w){var d;(d=u.current)==null||d.focus==null||d.focus(oe),u.current=null}});a.useEffect(()=>{!n||!C||p()},[n,C,p]),a.useEffect(()=>{R&&L()},[R,L]),ct(()=>{L()});const ce=H(()=>{if(!ne||!de()||!c.isTopModal())return;const d=fe(g==null?void 0:g.document);c.dialog&&d&&!be(c.dialog,d)&&c.dialog.focus()}),Q=H(d=>{d.target===d.currentTarget&&(T==null||T(d),f===!0&&F())}),ue=H(d=>{y&&Ye(d)&&c.isTopModal()&&(m==null||m(d),d.defaultPrevented||F())}),I=a.useRef(),x=a.useRef(),Z=(...d)=>{b(!0),D==null||D(...d)};if(!C)return null;const N=Object.assign({role:o,ref:c.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},le,{style:l,className:r,tabIndex:-1});let W=G?G(N):s.jsx("div",Object.assign({},N,{children:a.cloneElement(E,{role:"document"})}));W=Ce(A,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:ie,onExiting:z,onExited:Z,onEnter:X,onEntering:Y,onEntered:q,children:W});let k=null;return f&&(k=re({ref:c.setBackdropRef,onClick:Q}),k=Ce(M,te,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:k})),s.jsx(s.Fragment,{children:Xe.createPortal(s.jsxs(s.Fragment,{children:[k,W]}),C)})});Se.displayName="Modal";const pt=Object.assign(Se,{Manager:Ee});function Et(t,e){t.classList?t.classList.add(e):tt(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ke(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function yt(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ke(t.className,e):t.setAttribute("class",ke(t.className&&t.className.baseVal||"",e))}const O={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class vt extends Ee{adjustAndStore(e,n,o){const r=n.style[e];n.dataset[e]=r,U(n,{[e]:`${parseFloat(U(n,e))+o}px`})}restore(e,n){const o=n.dataset[e];o!==void 0&&(delete n.dataset[e],U(n,{[e]:o}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(Et(n,"modal-open"),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";B(n,O.FIXED_CONTENT).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth)),B(n,O.STICKY_CONTENT).forEach(l=>this.adjustAndStore(r,l,-e.scrollBarWidth)),B(n,O.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(r,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();yt(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";B(n,O.FIXED_CONTENT).forEach(l=>this.restore(o,l)),B(n,O.STICKY_CONTENT).forEach(l=>this.restore(r,l)),B(n,O.NAVBAR_TOGGLER).forEach(l=>this.restore(r,l))}}let me;function Rt(t){return me||(me=new vt(t)),me}const Ae=a.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=S(e,"modal-body"),s.jsx(n,{ref:r,className:h(t,e),...o})));Ae.displayName="ModalBody";const Fe=a.createContext({onHide(){}}),ye=a.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:o,size:r,fullscreen:l,children:E,scrollable:f,...y},T)=>{t=S(t,"modal");const m=`${t}-dialog`,A=typeof l=="string"?`${t}-fullscreen-${l}`:`${t}-fullscreen`;return s.jsx("div",{...y,ref:T,className:h(m,e,r&&`${t}-${r}`,o&&`${m}-centered`,f&&`${m}-scrollable`,l&&A),children:s.jsx("div",{className:h(`${t}-content`,n),children:E})})});ye.displayName="ModalDialog";const De=a.forwardRef(({className:t,bsPrefix:e,as:n="div",...o},r)=>(e=S(e,"modal-footer"),s.jsx(n,{ref:r,className:h(t,e),...o})));De.displayName="ModalFooter";const Tt=a.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:o,children:r,...l},E)=>{const f=a.useContext(Fe),y=ge(()=>{f==null||f.onHide(),o==null||o()});return s.jsxs("div",{ref:E,...l,children:[r,n&&s.jsx(nt,{"aria-label":t,variant:e,onClick:y})]})}),Le=a.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:o=!1,...r},l)=>(t=S(t,"modal-header"),s.jsx(Tt,{ref:l,...r,className:h(e,t),closeLabel:n,closeButton:o})));Le.displayName="ModalHeader";const Mt=ot("h4"),Ie=a.forwardRef(({className:t,bsPrefix:e,as:n=Mt,...o},r)=>(e=S(e,"modal-title"),s.jsx(n,{ref:r,className:h(t,e),...o})));Ie.displayName="ModalTitle";function wt(t){return s.jsx(Be,{...t,timeout:null})}function Ct(t){return s.jsx(Be,{...t,timeout:null})}const We=a.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:o,contentClassName:r,children:l,dialogAs:E=ye,"data-bs-theme":f,"aria-labelledby":y,"aria-describedby":T,"aria-label":m,show:A=!1,animation:v=!0,backdrop:M=!0,keyboard:te=!0,onEscapeKeyDown:K,onShow:ne,onHide:w,container:oe,autoFocus:G=!0,enforceFocus:re=!0,restoreFocus:ae=!0,restoreFocusOptions:se,onEntered:V,onExit:F,onExiting:ie,onEnter:D,onEntering:z,onExited:X,backdropClassName:Y,manager:q,...le},g)=>{const[C,c]=a.useState({}),[de,J]=a.useState(!1),R=a.useRef(!1),b=a.useRef(!1),u=a.useRef(null),[p,L]=lt(),ce=qe(g,L),Q=ge(w),ue=ze();t=S(t,"modal");const I=a.useMemo(()=>({onHide:Q}),[Q]);function x(){return q||Rt({isRTL:ue})}function Z(i){if(!pe)return;const j=x().getScrollbarWidth()>0,Re=i.scrollHeight>je(i).documentElement.clientHeight;c({paddingRight:j&&!Re?xe():void 0,paddingLeft:!j&&Re?xe():void 0})}const N=ge(()=>{p&&Z(p.dialog)});Ze(()=>{we(window,"resize",N),u.current==null||u.current()});const W=()=>{R.current=!0},k=i=>{R.current&&p&&i.target===p.dialog&&(b.current=!0),R.current=!1},d=()=>{J(!0),u.current=Qe(p.dialog,()=>{J(!1)})},P=i=>{i.target===i.currentTarget&&d()},$=i=>{if(M==="static"){P(i);return}if(b.current||i.target!==i.currentTarget){b.current=!1;return}w==null||w()},$e=i=>{te?K==null||K(i):(i.preventDefault(),M==="static"&&d())},He=(i,j)=>{i&&Z(i),D==null||D(i,j)},_e=i=>{u.current==null||u.current(),F==null||F(i)},Ue=(i,j)=>{z==null||z(i,j),Je(window,"resize",N)},Ke=i=>{i&&(i.style.display=""),X==null||X(i),we(window,"resize",N)},Ge=a.useCallback(i=>s.jsx("div",{...i,className:h(`${t}-backdrop`,Y,!v&&"show")}),[v,Y,t]),ve={...n,...C};ve.display="block";const Ve=i=>s.jsx("div",{role:"dialog",...i,style:ve,className:h(e,t,de&&`${t}-static`,!v&&"show"),onClick:M?$:void 0,onMouseUp:k,"data-bs-theme":f,"aria-label":m,"aria-labelledby":y,"aria-describedby":T,children:s.jsx(E,{...le,onMouseDown:W,className:o,contentClassName:r,children:l})});return s.jsx(Fe.Provider,{value:I,children:s.jsx(pt,{show:A,ref:ce,backdrop:M,container:oe,keyboard:!0,autoFocus:G,enforceFocus:re,restoreFocus:ae,restoreFocusOptions:se,onEscapeKeyDown:$e,onShow:ne,onHide:w,onEnter:He,onEntering:Ue,onEntered:V,onExit:_e,onExiting:ie,onExited:Ke,manager:x(),transition:v?wt:void 0,backdropTransition:v?Ct:void 0,renderBackdrop:Ge,renderDialog:Ve})})});We.displayName="Modal";const _=Object.assign(We,{Body:Ae,Header:Le,Title:Ie,Footer:De,Dialog:ye,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function St({show:t,close:e,header:n,body:o,btn:r,confirmAction:l}){return s.jsx(s.Fragment,{children:s.jsxs(_,{show:t,onHide:e,backdrop:"static",keyboard:!1,children:[s.jsx(_.Header,{closeButton:!0,children:s.jsx(_.Title,{children:n})}),s.jsx(_.Body,{children:o}),s.jsxs(_.Footer,{children:[s.jsx(Te,{variant:"secondary",onClick:e,children:"Close"}),s.jsx(Te,{variant:"danger",onClick:l,children:r})]})]})})}export{St as M,_ as a};
